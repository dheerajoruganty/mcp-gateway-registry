# Terraform Variables Example Template
#
# This is an EXAMPLE file showing all configurable variables.
#
# TO USE:
# 1. Copy this file: cp terraform.tfvars.example terraform.tfvars
# 2. Edit terraform.tfvars with YOUR values
# 3. Run: terraform apply
#
# NOTE: terraform.tfvars is in .gitignore and will NOT be committed to git

# ============================================================================
# NETWORK CONFIGURATION - IP ADDRESSES
# ============================================================================

# Main ALB (Registry, Auth Server, Gradio) - Allowed IP addresses
# These IPs can access:
#   - http://mcp-gateway-alb-*.us-east-1.elb.amazonaws.com (ports 80, 443)
#   - http://mcp-gateway-alb-*.us-east-1.elb.amazonaws.com:7860 (Registry)
#   - http://mcp-gateway-alb-*.us-east-1.elb.amazonaws.com:8888 (Auth Server)
# Options:
#   - Specific IP: "YOUR.IP.ADDRESS/32" (most secure)
#   - Public access: "0.0.0.0/0" (use with caution)
#   - Enterprise CIDR: "10.0.0.0/8" (your organization's network)
ingress_cidr_blocks = [
  "71.114.44.148/32",      # Example: Your laptop IP
  "44.192.72.20/32"        # Example: Your EC2 instance IP
]

# ============================================================================
# DOMAIN CONFIGURATION
# ============================================================================

# Option 1: Use regional domains (RECOMMENDED for multi-region deployments)
# This automatically creates domains based on the region:
#   - Keycloak: kc.{region}.mycorp.click (e.g., kc.us-west-2.mycorp.click)
#   - Registry: registry.{region}.mycorp.click (e.g., registry.us-west-2.mycorp.click)
use_regional_domains = true
base_domain          = "mycorp.click"

# Option 2: Use custom static domains (set use_regional_domains = false)
# Uncomment these if you want fixed domains regardless of region:
# use_regional_domains = false
# keycloak_domain = "kc.example.com"
# root_domain = "example.com"

# ============================================================================
# KEYCLOAK CREDENTIALS (REQUIRED)
# ============================================================================

# Keycloak admin credentials
keycloak_admin          = "admin"
keycloak_admin_password = "CHANGE-ME-SECURE-PASSWORD"

# Keycloak database credentials
keycloak_database_username = "keycloak"
keycloak_database_password = "CHANGE-ME-DB-PASSWORD"

# ============================================================================
# CONTAINER IMAGE URIS (REQUIRED)
# ============================================================================

# Registry image from ECR
registry_image_uri = "YOUR_ACCOUNT_ID.dkr.ecr.YOUR_AWS_REGION.amazonaws.com/mcp-gateway-registry:latest"

# Auth server image from ECR
auth_server_image_uri = "YOUR_ACCOUNT_ID.dkr.ecr.YOUR_AWS_REGION.amazonaws.com/mcp-gateway-auth-server:latest"

# MCP Server images from ECR
currenttime_image_uri         = "YOUR_ACCOUNT_ID.dkr.ecr.YOUR_AWS_REGION.amazonaws.com/mcp-gateway-currenttime:latest"
mcpgw_image_uri               = "YOUR_ACCOUNT_ID.dkr.ecr.YOUR_AWS_REGION.amazonaws.com/mcp-gateway-mcpgw:latest"
realserverfaketools_image_uri = "YOUR_ACCOUNT_ID.dkr.ecr.YOUR_AWS_REGION.amazonaws.com/mcp-gateway-realserverfaketools:latest"

# A2A Agent images from ECR
flight_booking_agent_image_uri   = "YOUR_ACCOUNT_ID.dkr.ecr.YOUR_AWS_REGION.amazonaws.com/mcp-gateway-flight-booking-agent:latest"
travel_assistant_agent_image_uri = "YOUR_ACCOUNT_ID.dkr.ecr.YOUR_AWS_REGION.amazonaws.com/mcp-gateway-travel-assistant-agent:latest"

# ============================================================================
# OPTIONAL: ADDITIONAL CONFIGURATION
# ============================================================================

# AWS Region
# Can also be set via TF_VAR_aws_region environment variable
# Default: "us-east-1"
# aws_region = "us-west-2"

# Deployment name prefix
# Default: "mcp-gateway"
# name = "mcp-gateway"

# VPC CIDR block
# Default: "10.0.0.0/16"
# vpc_cidr = "10.0.0.0/16"

# Enable CloudWatch monitoring
# Default: true
# enable_monitoring = true

# Email for alarm notifications (optional)
# alarm_email = ""

# ============================================================================
# OPTIONAL: KEYCLOAK DATABASE SCALING
# ============================================================================

# Database Aurora Serverless capacity (default values shown)
# keycloak_database_min_acu = 0.5
# keycloak_database_max_acu = 2

# ============================================================================
# OPTIONAL: KEYCLOAK LOGGING
# ============================================================================

# Keycloak log level
# Default: "INFO"
# keycloak_log_level = "INFO"

# ============================================================================
# OPTIONAL: SERVICE REPLICA COUNTS
# ============================================================================

# Service replica counts (when autoscaling is disabled)
# Uncomment to override defaults (all default to 1)
# currenttime_replicas              = 1
# mcpgw_replicas                    = 1
# realserverfaketools_replicas      = 1
# flight_booking_agent_replicas     = 1
# travel_assistant_agent_replicas   = 1

# ============================================================================
# SESSION COOKIE CONFIGURATION
# ============================================================================

# Session cookie secure flag (HTTPS-only transmission)
# MUST be set to true in production deployments with HTTPS
# Set to false only for local development over HTTP
# Default: true
session_cookie_secure = true

# Session cookie domain (for cross-subdomain authentication)
# Leave unset or empty for single-domain deployments (RECOMMENDED for most cases)
# Set to domain with leading dot for cross-subdomain sharing
#
# Examples:
#   Single domain deployment (registry.example.com): Leave empty or unset
#     session_cookie_domain = ""
#
#   Cross-subdomain (registry.mycorp.click + kc.mycorp.click):
#     session_cookie_domain = ".mycorp.click"
#
#   Multi-region with regional subdomains (registry.us-east-1.mycorp.click):
#     session_cookie_domain = ".mycorp.click"
#
#   Multi-level organizational domains (registry.region-1.corp.company.internal):
#     session_cookie_domain = ".corp.company.internal"
#
# Default: Empty (cookie scoped to exact host only - safest option)
session_cookie_domain = ""

# ============================================================================
# EMBEDDINGS CONFIGURATION
# ============================================================================

# Embeddings provider and model configuration for semantic search
#
# Option 1: Use local sentence-transformers (DEFAULT - no API costs)
# Default values (uncomment to use):
# embeddings_provider         = "sentence-transformers"
# embeddings_model_name       = "all-MiniLM-L6-v2"
# embeddings_model_dimensions = 384

# Option 2: Use OpenAI embeddings (better quality, requires API key)
# Uncomment and set your API key:
# embeddings_provider         = "litellm"
# embeddings_model_name       = "openai/text-embedding-ada-002"
# embeddings_model_dimensions = 1536
# embeddings_api_key          = "sk-proj-YOUR-OPENAI-API-KEY"

# Option 3: Use Amazon Bedrock Titan embeddings (uses IAM, no API key needed)
# Uncomment to use Bedrock:
# embeddings_provider         = "litellm"
# embeddings_model_name       = "bedrock/amazon.titan-embed-text-v1"
# embeddings_model_dimensions = 1536
# embeddings_aws_region       = "us-east-1"
# embeddings_api_key          = ""  # Empty for Bedrock (uses IAM)
